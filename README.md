# ACASbot
## Article Context And Sentiment bot

# RU

## ÐžÐ±Ñ‰ÐµÐµ

Ð­Ñ‚Ð¾ ÑÐ¿ÐµÑ†Ð¸Ñ„Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼ Ð±Ð¾Ñ‚ Ð´Ð»Ñ ÑƒÐ¿Ñ€Ð¾Ñ‰ÐµÐ½Ð¸Ñ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° ÑÑ‚Ð°Ñ‚ÐµÐ¹ Ð½Ð° Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ Ðº Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾Ð¹ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ðº Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ LLM, Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ð½Ð¾Ð¹ Ð½Ð° Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ðµ ollama.

Ð‘Ð¾Ñ‚ Ð¾Ð±Ð»Ð°Ð´Ð°ÐµÑ‚ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ð¼Ð¸ Ñ€ÐµÐ¶Ð¸Ð¼Ð°Ð¼Ð¸ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ð¼Ð¸. Ð”Ð»Ñ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð¹ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ð»ÑƒÑ‡ÑˆÐµ Ð¾Ð±Ñ€Ð°Ñ‚Ð¸Ñ‚ÑŒÑÑ Ðº ÑÐ°Ð¼Ð¾Ð¼Ñƒ Ð±Ð¾Ñ‚Ñƒ Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹ `help`.

Ð˜Ð¼ÐµÑŽÑ‰Ð¸Ð¹ÑÑ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»:
- Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¸Ð¼ÐµÐ½Ð¸ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸;
- Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ñ€Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð»Ð½Ð¾Ð³Ð¾ Ð¸Ð»Ð¸ ÐºÑ€Ð°Ñ‚ÐºÐ¾Ð³Ð¾ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°;
- Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ/Ð²Ñ‹ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸ Ð±Ð¾Ñ‚Ð°;
- Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ/ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð¾Ð¼ Ðº Ð±Ð¾Ñ‚Ñƒ.

Ð‘Ð¾Ñ‚ ÑÐ¿Ð¾ÑÐ¾Ð±ÐµÐ½ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ Ð² Google Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð¸Ñ€ÑƒÑŽÑ‰ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ ÑÑ‚Ñ€Ð¾ÐºÐ¸: Ð´Ð°Ñ‚Ð° Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸, Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº (Ð´Ð¾Ð¼ÐµÐ½Ð½Ð¾Ðµ Ð¸Ð¼Ñ), ÐºÑ€Ð°Ñ‚ÐºÐ¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ (Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº), URL, Ñ‚Ð¸Ð¿ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ Ðº Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ð¸Ð¸ (Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¹, Ð¾Ñ‚Ñ€Ð¸Ñ†Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹, Ð¿Ð¾Ð»Ð¾Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹).

ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Google Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð¾Ð¹ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð¿Ñ€ÐµÐ´Ð²Ð°Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¹ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸: ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Google Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°, Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰ÐµÐ³Ð¾ API, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ ÑÐµÑ€Ð²Ð¸ÑÐ½Ð¾Ð³Ð¾ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð° Ð¸ ÐºÐ»ÑŽÑ‡Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° ÑÐ¾ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹ Ð³ÑƒÐ³Ð»Ð°, Ð° Ñ‚Ð°ÐºÐ¶Ðµ ID ÑÐ°Ð¼Ð¾Ð¹ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ (Ð¸Ð· Ð°Ð´Ñ€ÐµÑÐ½Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐ¸) Ð¸ Ð½Ð°Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ñ Ð»Ð¸ÑÑ‚Ð°. Ð‘Ð¾Ñ‚ ÑÐ°Ð¼ Ð½Ð°Ð¹Ð´ÐµÑ‚ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÑŽÑŽ Ð·Ð°Ð¿Ð¸ÑÑŒ Ð² Ð²Ñ‹ÑˆÐµÐ¾Ð¿Ð¸ÑÐ°Ð½Ð½Ð¾Ð¹ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ðµ Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ Ð½Ð¾Ð²ÑƒÑŽ Ð¿Ñ€Ð¸ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ð¸ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ð¾Ñ‡ÐµÑ€ÐµÐ´Ð½Ð¾Ð¹ ÑÑ‚Ð°Ñ‚ÑŒÐ¸.

ÐÑ‹Ð½ÐµÑˆÐ½ÑÑ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¿Ð¾Ð´Ñ€Ð°Ð·ÑƒÐ¼ÐµÐ²Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ Ð±Ð¾Ñ‚Ð¾Ð¼ Ð¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÐµÑ‚ÑÑ Ð¾Ð´Ð¸Ð½, Ð¸Ð»Ð¸ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ ÑÐ²ÑÐ·Ð°Ð½Ð½Ñ‹Ñ… Ð´Ñ€ÑƒÐ³ Ñ Ð´Ñ€ÑƒÐ³Ð¾Ð¼ Ð»ÑŽÐ´ÐµÐ¹, Ñ‚Ð°Ðº ÐºÐ°Ðº Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð³Ð»Ð¾Ð±Ð°Ð»ÑŒÐ½Ð°, - Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ, Ð¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð½Ñ‹Ðµ Ð¾Ð´Ð½Ð¸Ð¼ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¼, Ð¾Ñ‚Ñ€Ð°Ð¶Ð°ÑŽÑ‚ÑÑ Ð½Ð° Ð²ÑÐµ Ð¿Ð¾ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ð²ÑÐ·ÐºÐ¸ Ðº ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¼ Ð»Ð¸Ñ†Ð°Ð¼.


## ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð½Ñ‹Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸

- ollama Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ LLM (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ: Ð²Ð¾Ð·ÑŒÐ¼Ð¸Ñ‚Ðµ Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ñ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾Ð¼ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² >1 Ð¼Ð¸Ð»Ð»Ð¸Ð°Ñ€Ð´Ð°);


## Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ðµ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ

- Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð°: Windows, Linux, Mac (Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÐ¼Ñ‹Ðµ ollama. Ð¡Ð°Ð¼ Ð±Ð¾Ñ‚ ÑÐ²Ð»ÑÐµÑ‚ÑÑ ÐºÑ€Ð¾ÑÑÐ¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼ÐµÐ½Ð½Ñ‹Ð¼)
- ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°: amd64
- ÐžÐ—Ð£, Ð¦ÐŸ, Ð“ÐŸÐ£: Ð’ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ð¾Ð¹ LLM

## ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°

Ð”Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹:

- Ð¢ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼ Ñ‚Ð¾ÐºÐµÐ½;
- Ð Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰Ð¸Ð¹ ÑÐµÑ€Ð²Ð¸Ñ ollama Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾Ð¹ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð¼Ð¾Ð´ÐµÐ»ÑŒÑŽ;
- Ð¤Ð°Ð¹Ð» Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ð´Ð»Ñ ÑÐµÑ€Ð²Ð¸ÑÐ½Ð¾Ð³Ð¾ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð° Ð¾Ñ‚ Google;
- Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Google Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ. 

### Telegram token

Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð±Ð¾Ñ‚Ð° Ñƒ @BotFather Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ Ñ‚Ð¾ÐºÐµÐ½.

### ollama Ð¼Ð¾Ð´ÐµÐ»ÑŒ

ÐŸÐ¾Ð´Ð¾Ð¹Ð´ÐµÑ‚ Ð»ÑŽÐ±Ð°Ñ Ð¼Ð¾Ð´ÐµÐ»ÑŒ, ÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð² Ñ€ÐµÐ¶Ð¸Ð¼Ðµ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸ÐºÐ° Ð¸ Ð²Ð¾ÑÐ¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÑŽÑ‰Ð°Ñ Ñ‚Ñ€ÐµÐ±ÑƒÐµÐ¼Ñ‹Ð¹ ÑÐ·Ñ‹Ðº (Ð½Ð° Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ - Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ€ÑƒÑÑÐºÐ¸Ð¹).

ÐŸÑ€Ð¸Ð¼ÐµÑ€: ollama pull lakomoor/vikhr-llama-3.2-1b-instruct:1b

### Google Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°

- Ð’Ð¾Ð¹Ð´Ð¸Ñ‚Ðµ Ð² [Google Cloud](https://console.cloud.google.com), ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚;
- Ð’ `API & Services` Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ `Google Sheets API`;
- Ð’ `Credentials`ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÑÐµÑ€Ð²Ð¸ÑÐ½Ñ‹Ð¹ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ JSON Ñ„Ð°Ð¹Ð» Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°;
- Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Google Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ, Ð´Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ ÑÐµÑ€Ð²Ð¸ÑÐ½Ñ‹Ð¹ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ð² Ñ€Ð¾Ð»Ð¸ Ð¿Ñ€Ð°Ð²Ñ‰Ð¸ÐºÐ°;
- Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ID Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ (Ð¿Ñ€ÐµÐ´Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÑÑ, Ð´Ð»Ð¸Ð½Ð½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ URL Ð´Ð¾ /view Ð¸Ð»Ð¸ /edit, ÑÐ¾ÑÑ‚Ð¾ÑÑ‰Ð°Ñ Ð¸Ð· Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð² Ð¸ Ñ†Ð¸Ñ„Ñ€);
- Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð»Ð¸ÑÑ‚Ð° (ÐžÐ±Ñ‹Ñ‡Ð½Ð¾ `Sheet 1` Ð¸Ð»Ð¸ `Ð›Ð¸ÑÑ‚ 1`).

ÐŸÑ€Ð¸ Ð¿ÐµÑ€Ð²Ð¾Ð¼ Ð·Ð°Ð¿ÑƒÑÐºÐµ Ð±Ð¾Ñ‚Ð° Ð¾Ð½ ÑÐ¾Ð·Ð´Ð°ÑÑ‚ Ð² Ñ€Ð°Ð±Ð¾Ñ‡ÐµÐ¹ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ Ñ„Ð°Ð¹Ð» Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ. ÐÑ‹Ð½ÐµÑˆÐ½ÑÑ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð²Ñ‹Ð³Ð»ÑÐ´Ð¸Ñ‚ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð½Ð¾ Ñ‚Ð°Ðº:

```json
{
	"api_token": "token",
	"organization_name": "Ð§ÐµÐ»Ð¾Ð²ÐµÑ‡ÐµÑÑ‚Ð²Ð¾",
	"ollama_model": "lakomoor/vikhr-llama-3.2-1b-instruct:1b",
	"max_content_size": 300,
	"debug": false,
	"full_analysis": false,
	"push_to_google_sheet": true,
	"sheet_config": {
		"credentails": null,
		"spreadsheet_id": "sheet_id",
		"sheet_name": "main"
	},
	"credentials_file": "service_account_secret.json",
	"is_public": true,
	"allowed_user_ids": []
}
```

- Ð¢Ð¾ÐºÐµÐ½ Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼Ð° Ð²Ð½Ð¾ÑÐ¸Ñ‚ÑÑ Ð² `api_token`;
- LLM Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ, Ð²Ð¾ÑÐ¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÐ¼Ñ‹Ð¼ ollama Ð²Ð½Ð¾ÑÐ¸Ñ‚ÑÑ Ð² `ollama_model`;
- ÐŸÑƒÑ‚ÑŒ Ðº Ñ„Ð°Ð¹Ð»Ñƒ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° ÑÐµÑ€Ð²Ð¸ÑÐ½Ð¾Ð³Ð¾ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð° Ð¿Ð¸ÑˆÐµÑ‚ÑÑ Ð² `credentials_file`;
- Ð˜Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ - `spreadsheet_id`;
- ÐÐ°Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð»Ð¸ÑÑ‚Ð° - `sheet_name`.

ÐÐ° ÑÑ‚Ð¾Ð¼ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¾ÐºÐ¾Ð½Ñ‡ÐµÐ½Ð°, Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¼Ð¾Ð¶Ð½Ð¾ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑƒÐ¶Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑ ÑÐ°Ð¼Ð¾Ð³Ð¾ Ð±Ð¾Ñ‚Ð°.


## Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ

ÐŸÑ€Ð¸Ð¼ÐµÑ€:


Ð—Ð°Ð¿Ñ€Ð¾Ñ:
`do https://somenewswebsite.org/news/article12345`

ÐžÑ‚Ð²ÐµÑ‚:
```
ðŸ“‹ Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°

Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº: Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº ÑÑ‚Ð°Ñ‚ÑŒÐ¸

Ð¢ÐµÐ¼Ð°: ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ‚ÐµÐ¼Ð° Ñ‚ÐµÐºÑÑ‚Ð°

ÐžÑ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ðµ: Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¹
ÐžÐ±Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ: Ð¢ÐµÐºÑÑ‚ Ð½Ðµ Ð½ÐµÑÐµÑ‚ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð¹ Ð¾Ñ†ÐµÐ½ÐºÐ¸.
```

ÐŸÑ€Ð¸ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¹ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐµ Ð¸ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð½Ð¾Ð¹ Ð¾Ð¿Ñ†Ð¸Ð¸ `push_to_google_sheet`, Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð° Ð¸ Ð² Google Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ.


## Ð›Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ

GPLv3. Ð”Ð»Ñ Ð±Ð¾Ð»ÑŒÑˆÐµÐ¹ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ ÑÐ¼. `COPYING`.


# EN

## General

This is a very specific telegram bot suited for the analysis of articles for their relation to a certain organization using requests to a local LLM running via ollama.

The bot has several modes and settings. For specific information, it is better to contact the bot itself with the `help` command.

Available functionality:
- changing the organization name;
- the ability to conduct a full or brief analysis;
- enabling/disabling the bot's publicity;
- adding/removing users with access to the bot.

The bot can automatically add the resulting information to the Google table in the following line format: publication date, source (domain name), short description (title), URL, type of relation to the organization (informational, negative, positive).

Setting up automatic work with the Google table requires configuration: creating a Google project, enabling the corresponding API, obtaining a service account and an access key from Google, as well as the ID of the table itself (from the address bar) and the name of the sheet. The bot itself will find the last entry in the above-described structure and add a new one when the analysis of the next article is completed.

The current implementation implies that the bot is used by one or several people connected to each other, since the setting is global - changes made by one user are reflected in all subsequent requests without reference to specific persons.

## Software dependencies

- ollama with local LLM (recommendation: take a model with the number of parameters > 1b);

## System requirements

- System: Windows, Linux, Mac (supported by ollama. The bot itself is cross-platform)
- Architecture: amd64
- RAM, CPU, GPU: Depending on the selected LLM

## Setup

For work you need:

- Telegram token;
- Working ollama service with an available model;
- Access file for the service account from Google;
- Information about the Google table.

### Telegram token

Register the bot with @BotFather and get a token.

### ollama model

Any model that can work in assistant mode and understands the required language (currently - only Russian) will do.

Example: ollama pull lakomoor/vikhr-llama-3.2-1b-instruct:1b

### Google spreadsheet

- Log in to [Google Cloud](https://console.cloud.google.com), create a project;
- In `API & Services` enable `Google Sheets API`;
- In `Credentials` create a service account and get a JSON access file;
- Create a Google spreadsheet, add the service account as an editor;
- Copy the spreadsheet ID (the penultimate, long part of the URL before /view or /edit, consisting of various symbols and numbers);
- Copy the sheet name (usually `Sheet 1` or `Sheet 1`).

When you first run the bot, it will create a configuration file with default data in the working directory. The current configuration looks something like this:

```json
{
	"api_token": "token",
	"organization_name": "Humanity",
	"ollama_model": "lakomoor/vikhr-llama-3.2-1b-instruct:1b",
	"max_content_size": 300,
	"debug": false,
	"full_analysis": false,
	"push_to_google_sheet": true,
	"sheet_config": {
		"credentails": null,
		"spreadsheet_id": "sheet_id",
		"sheet_name": "main"
	},
	"credentials_file": "service_account_secret.json",
	"is_public": true,
	"allowed_user_ids": []
}
```

- Telegram token goes into `api_token`;
- LLM in the format which is understood by ollama is entered into `ollama_model`;
- Path to the service account access file is written in `credentials_file`;
- Spreadsheet ID - `spreadsheet_id`;
- Sheet name - `sheet_name`.

That's it for the setup, the rest can be controlled and changed using the bot itself.

## Usage

Example:

Request:
`do https://somenewswebsite.org/news/article12345`

Response:

```
ðŸ“‹ Analysis results

Title: article title

Topic: Main topic of the text

Relation: Informational
Justification: The text does not carry a specific assessment.
```

If configured correctly and the `push_to_google_sheet` option is enabled, the information will be added to the Google table.

## License

GPLv3. For more information, see `COPYING`.